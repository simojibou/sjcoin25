```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>SJ X N41 music - Artist</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Custom CSS (kept only the parts used by the artist page) -->
    <style>
        :root{
            --color-red:#ff0000;
            --color-white:#ffffff;
            --color-dark:#0a0a0a;
            --color-dark-transparent:#0a0a0af2;
            --color-dark-transparent-alt:#1a1a1ad9;
            --color-dark-light:#1a1a1a;
            --space-unit:8px;
        }
        body{
            background:linear-gradient(135deg,#050608,#101218,#090c14);
            color:var(--color-white);
            font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;
            margin:0;padding:0;
            overflow-x:hidden;
        }
        .glass-effect{
            background:linear-gradient(135deg,var(--color-dark-transparent),var(--color-dark-transparent-alt));
            backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
            border:1px solid rgba(255,255,255,.1);
            box-shadow:0 8px 32px rgba(0,0,0,.3);
            border-radius:20px;
        }
        .artist-hero{
            position:relative;height:60vh;width:100%;background-size:cover;background-position:center;
            display:flex;align-items:center;justify-content:center;text-align:center;
            margin-bottom:var(--space-3);
        }
        .artist-hero::before{
            content:'';position:absolute;top:0;left:0;width:100%;height:100%;
            background:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,.8));
            z-index:-1;
        }
        .artist-hero-content{padding:var(--space-2);}
        .artist-hero h1{
            font-size:3rem;font-weight:800;letter-spacing:2px;color:var(--color-red);
            text-transform:uppercase;margin-bottom:var(--space-1);
            animation:fadeInUp 1s ease;
        }
        .artist-hero .social-links{font-size:1.8rem;}
        .artist-bio{
            max-width:90%;margin:0 auto;padding:var(--space-3);border-radius:20px;
        }
        .artist-bio p{font-size:1rem;line-height:1.6;opacity:.9;}
        .admin-actions{
            position:absolute;top:10px;right:10px;opacity:1;
        }
        .admin-actions button{
            background:none;border:none;color:var(--color-white);
            margin-left:5px;cursor:pointer;font-size:1.2rem;
        }
        .admin-actions button:hover{color:var(--color-red);}
        .social-links a{color:var(--color-white);margin-right:8px;font-size:1.4rem;transition:color .3s;}
        .social-links a:hover{color:var(--color-red);}
        .ad-container-wrapper{display:flex;justify-content:center;margin:16px auto;}
        #ad-container{width:468px;height:60px;max-width:100%;}
        @keyframes fadeInUp{
            from{opacity:0;transform:translateY(30px);}
            to{opacity:1;transform:translateY(0);}
        }
        @keyframes float{
            0%,100%{transform:translateY(0);}
            50%{transform:translateY(-20px);}
        }
        .stagger-item{opacity:0;transform:translateY(20px);transition:opacity .5s,transform .5s;}
        .stagger-item.enhanced-appear{opacity:1;transform:translateY(0);}

        /* Mobile tweaks */
        @media (max-width:768px){
            .artist-hero{height:50vh;}
            .artist-hero h1{font-size:2rem;letter-spacing:1.5px;}
            .artist-hero .social-links{font-size:1.5rem;}
            .artist-bio{padding:16px;max-width:95%;}
            .artist-bio p{font-size:.9rem;}
            #ad-container{width:100%;height:auto;}
        }
        @media (max-width:576px){
            .artist-hero h1{font-size:1.8rem;}
        }
    </style>

    <!-- Firebase SDKs (modular) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD-sneIBO65i9uQIh3n_jw4MI7GQtjZfV8",
            authDomain: "sj-one.firebaseapp.com",
            databaseURL: "https://sj-one-default-rtdb.firebaseio.com",
            projectId: "sj-one",
            storageBucket: "sj-one.appspot.com",
            messagingSenderId: "426335553508",
            appId: "1:426335553508:web:248f76772f6f78419ca9f1",
            measurementId: "G-YQTVZQWXGB"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const ADMIN_EMAIL = 'simo.jibou@gmail.com';
        let currentUser = null;

        // ---------- Helper ----------
        function getQueryParam(name){
            return new URLSearchParams(window.location.search).get(name);
        }

        // ---------- Load Single Artist ----------
        async function loadSingleArtist(id){
            const artistRef = doc(db,'artists',id);
            const snap = await getDoc(artistRef);
            if(!snap.exists()){
                document.getElementById('artist-container').innerHTML = '<h2 class="text-center">Artist not found</h2>';
                return;
            }

            // Increment views
            await updateDoc(artistRef, { views: increment(1) });

            // Fetch updated data
            const updatedSnap = await getDoc(artistRef);
            const artist = updatedSnap.data();

            const adminActions = (currentUser && currentUser.email===ADMIN_EMAIL)
                ? `<div class="admin-actions">
                       <button onclick="editArtist('${id}')" title="Edit"><i class="bi bi-pencil"></i></button>
                       <button onclick="deleteArtist('${id}')" title="Delete"><i class="bi bi-trash"></i></button>
                   </div>`
                : '';

            const adminStats = (currentUser && currentUser.email===ADMIN_EMAIL)
                ? `<div class="admin-stats glass-effect stagger-item mt-4">
                       <h3>Artist Stats</h3>
                       <p>Total Views: ${artist.views || 0}</p>
                       <p>Earnings: $${((artist.views || 0) / 1000).toFixed(2)}</p>
                   </div>`
                : '';

            const html = `
                <div class="artist-hero" style="background-image:url('${artist.imageUrl||'https://via.placeholder.com/1920x1080/4a90e2/ffffff?text=Artist+Photo'}');">
                    <div class="artist-hero-content">
                        ${adminActions}
                        <h1><i class="bi bi-music-note-beamed icon"></i>${artist.name}</h1>
                        <div class="social-links">
                            ${artist.instagram?`<a href="${artist.instagram}" target="_blank" rel="noopener noreferrer"><i class="bi bi-instagram"></i></a>`:''}
                            ${artist.spotify?`<a href="${artist.spotify}" target="_blank" rel="noopener noreferrer"><i class="bi bi-spotify"></i></a>`:''}
                        </div>
                    </div>
                </div>

                <div class="ad-container-wrapper"><div id="ad-container"></div></div>

                <div class="container">
                    <div class="artist-bio glass-effect stagger-item">
                        <h3>Biography</h3>
                        <p>${artist.description||'Emerging talent in the music scene.'}</p>
                    </div>
                    ${adminStats}
                    <div class="text-center mt-4">
                        <a href="index.html" class="btn btn-secondary">Back to Home</a>
                    </div>
                </div>
            `;
            document.getElementById('artist-container').innerHTML = html;

            // Stagger animation
            setTimeout(()=>{document.querySelectorAll('.stagger-item').forEach((el,i)=>setTimeout(()=>el.classList.add('enhanced-appear'),i*100));},100);
        }

        // ---------- Auth ----------
        onAuthStateChanged(auth, user=>{
            currentUser = user;
            const artistId = getQueryParam('artist');
            if(artistId) loadSingleArtist(artistId);
        });

        // ---------- Global admin functions (kept for the buttons) ----------
        window.editArtist = id=>{ alert('Edit functionality is in the main page.'); };
        window.deleteArtist = id=>{ if(confirm('Delete this artist?')) alert('Delete handled in main page.'); };
    </script>
</head>

<body>
    <!-- Particles (optional, kept from original) -->
    <div class="particles"></div>

    <div id="artist-container" class="container my-5">
        <!-- Artist page will be injected here -->
    </div>

    <!-- Ad script (kept from original) -->
    <script type="text/javascript">
        atOptions = { 'key' : '6819d716a99f588efc7f8dacfbc474bb', 'format' : 'iframe', 'height' : 60, 'width' : 468, 'params' : {} };
        document.addEventListener('DOMContentLoaded',()=>{ const c=document.getElementById('ad-container'); if(c){ const s=document.createElement('script'); s.src='https://www.highperformanceformat.com/6819d716a99f588efc7f8dacfbc474bb/invoke.js'; s.async=true; c.appendChild(s); } });
    </script>

    <!-- Particles generation (optional) -->
    <script>
        function createParticles(){
            const p=document.querySelector('.particles');
            for(let i=0;i<20;i++){
                const e=document.createElement('div');
                e.className='particle';
                const sz=Math.random()*10+5;
                e.style.width=e.style.height=sz+'px';
                e.style.left=Math.random()*100+'%';
                e.style.top=Math.random()*100+'%';
                e.style.animation=`float ${Math.random()*10+5}s infinite`;
                p.appendChild(e);
            }
        }
        document.addEventListener('DOMContentLoaded',createParticles);
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

