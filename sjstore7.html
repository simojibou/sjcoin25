<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>SJ STORE</title>
  <!-- Google Fonts - Roboto as Helvetica alternative -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="https://raw.githubusercontent.com/simojibou/logo/refs/heads/main/logo.PNG" type="image/png">
  <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/simojibou/logo/refs/heads/main/logo.PNG">
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Firebase v12.3.0 -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";
    import { getStorage, ref as storageRef, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-storage.js";
    import { getDatabase, ref, onValue, set, push, remove, get, update } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-database.js";
    const firebaseConfig = {
      apiKey: "AIzaSyD-sneIBO65i9uQIh3n_jw4MI7GQtjZfV8",
      authDomain: "sj-one.firebaseapp.com",
      databaseURL: "https://sj-one-default-rtdb.firebaseio.com",
      projectId: "sj-one",
      storageBucket: "sj-one.appspot.com",
      messagingSenderId: "426335553508",
      appId: "1:426335553508:web:248f76772f6f78419ca9f1",
      measurementId: "G-YQTVZQWXGB"
    };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const auth = getAuth(app);
    const storage = getStorage(app);
    const provider = new GoogleAuthProvider();
    document.addEventListener("DOMContentLoaded", () => {
      const container = document.getElementById("product-list");
      const sliderContainer = document.getElementById("slider-container");
      const loginBtn = document.getElementById("login-btn");
      const profilePic = document.getElementById("profile-pic");
      const dropdownMenu = document.getElementById("dropdown-menu");
      const logoutOption = document.getElementById("logout-option");
      const sellNowOption = document.getElementById("sell-now-option");
      const marketerOption = document.getElementById("marketer-option");
      const settingsOption = document.getElementById("settings-option");
      const chatBtn = document.getElementById("chat-btn");
      const adminPanel = document.getElementById("admin-panel");
      const addProductForm = document.getElementById("add-product-form");
      const addSliderForm = document.getElementById("add-slider-form");
      const sliderList = document.getElementById("slider-list");
      const searchInput = document.getElementById("search-input");
      const cartIcon = document.getElementById("cart-icon");
      const cartCount = document.getElementById("cart-count");
      const cartModal = document.getElementById("cart-modal");
      const cartList = document.getElementById("cart-list");
      const cartTotal = document.getElementById("cart-total");
      const payNowBtn = document.getElementById("pay-now-btn");
      const closeModal = document.getElementById("close-modal");
      const sellModal = document.getElementById("sell-modal");
      const sellProductForm = document.getElementById("sell-product-form");
      const closeSellModal = document.getElementById("close-sell-modal");
      const marketerModal = document.getElementById("marketer-modal");
      const affiliateList = document.getElementById("affiliate-list");
      const closeMarketerModal = document.getElementById("close-marketer-modal");
      const paymentModal = document.getElementById("payment-modal");
      const paymentForm = document.getElementById("payment-form");
      const closePaymentModal = document.getElementById("close-payment-modal");
      const categoryCards = document.querySelectorAll(".category-card");
      const titleH1 = document.querySelector("h1");
      let currentUser = null;
      let isAdmin = false;
      let userRole = 'buyer'; // Default role
      let products = [];
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      let currentCategory = ""; // Track selected category
      let userData = { currency: 'DH', language: 'English' };
      let exchangeRates = {
        DH: 1
      };
      const translations = {
        English: {
          title: 'SJ STORE',
          searchPlaceholder: 'Search products...',
          orderNow: 'Order Now',
          contactWhatsApp: '📞 Contact via WhatsApp',
          addToCart: 'Add to Cart',
          noProducts: 'No products found.',
          cartTitle: 'My Cart',
          cartEmpty: 'Your cart is empty.',
          cartTotal: 'Total',
          payNow: 'Pay Now',
          paymentTitle: 'Payment Details',
          fullName: 'Full Name',
          whatsappPhone: 'WhatsApp Phone Number',
          address: 'Delivery Address',
          paymentMethod: 'Payment Method',
          cod: 'Cash on Delivery (COD)',
          online: 'Online Payment',
          submitPayment: 'Submit Payment',
          close: 'Close',
          sellTitle: 'Sell a Product',
          productTitle: 'Product Title',
          productPrice: 'Price (DH)',
          productDes: 'WhatsApp Phone Number',
          productOrderUrl: 'Order URL (optional)',
          selectCategory: 'Select Category',
          addProduct: 'Add Product',
          adminPanel: 'Admin Control Panel',
          addProductHeader: 'Add Product',
          addSliderHeader: 'Add Slider Item',
          currentSliders: 'Current Sliders',
          delete: 'Delete',
          edit: 'Edit',
          chat: 'Chat',
          login: 'Login',
          sellNow: 'Sell Now',
          marketerDashboard: 'Marketer Dashboard',
          settings: 'Settings',
          logout: 'Logout',
          affiliateTitle: 'Affiliate Dashboard',
          generateLink: 'Generate Affiliate Link',
          copyLink: 'Copy Link',
          commissions: 'Your Commissions'
        },
        French: {
          title: 'SJ STORE',
          searchPlaceholder: 'Rechercher des produits...',
          orderNow: 'Commander maintenant',
          contactWhatsApp: '📞 Contacter via WhatsApp',
          addToCart: 'Ajouter au panier',
          noProducts: 'Aucun produit trouvé.',
          cartTitle: 'Mon panier',
          cartEmpty: 'Votre panier est vide.',
          cartTotal: 'Total',
          payNow: 'Payer maintenant',
          paymentTitle: 'Détails du paiement',
          fullName: 'Nom complet',
          whatsappPhone: 'Numéro de téléphone WhatsApp',
          address: 'Adresse de livraison',
          paymentMethod: 'Méthode de paiement',
          cod: 'Paiement à la livraison (COD)',
          online: 'Paiement en ligne',
          submitPayment: 'Soumettre le paiement',
          close: 'Fermer',
          sellTitle: 'Vendre un produit',
          productTitle: 'Titre du produit',
          productPrice: 'Prix (DH)',
          productDes: 'Numéro de téléphone WhatsApp',
          productOrderUrl: 'URL de commande (optionnel)',
          selectCategory: 'Sélectionner la catégorie',
          addProduct: 'Ajouter un produit',
          adminPanel: 'Panneau de contrôle admin',
          addProductHeader: 'Ajouter un produit',
          addSliderHeader: 'Ajouter un élément au slider',
          currentSliders: 'Sliders actuels',
          delete: 'Supprimer',
          edit: 'Modifier',
          chat: 'Chat',
          login: 'Connexion',
          sellNow: 'Vendre maintenant',
          marketerDashboard: 'Tableau de bord du marketeur',
          settings: 'Paramètres',
          logout: 'Déconnexion',
          affiliateTitle: 'Tableau de bord affilié',
          generateLink: 'Générer un lien affilié',
          copyLink: 'Copier le lien',
          commissions: 'Vos commissions'
        },
        Arabic: {
          title: 'SJ STORE',
          searchPlaceholder: 'ابحث عن المنتجات...',
          orderNow: 'اطلب الآن',
          contactWhatsApp: '📞 الاتصال عبر واتساب',
          addToCart: 'أضف إلى السلة',
          noProducts: 'لم يتم العثور على منتجات.',
          cartTitle: 'سلتي',
          cartEmpty: 'سلتك فارغة.',
          cartTotal: 'الإجمالي',
          payNow: 'ادفع الآن',
          paymentTitle: 'تفاصيل الدفع',
          fullName: 'الاسم الكامل',
          whatsappPhone: 'رقم هاتف واتساب',
          address: 'عنوان التوصيل',
          paymentMethod: 'طريقة الدفع',
          cod: 'الدفع عند الاستلام (COD)',
          online: 'الدفع عبر الإنترنت',
          submitPayment: 'تقديم الدفع',
          close: 'إغلاق',
          sellTitle: 'بيع منتج',
          productTitle: 'عنوان المنتج',
          productPrice: 'السعر (درهم)',
          productDes: 'رقم هاتف واتساب',
          productOrderUrl: 'رابط الطلب (اختياري)',
          selectCategory: 'اختر الفئة',
          addProduct: 'إضافة منتج',
          adminPanel: 'لوحة تحكم المشرف',
          addProductHeader: 'إضافة منتج',
          addSliderHeader: 'إضافة عنصر إلى الشريحة',
          currentSliders: 'الشرائح الحالية',
          delete: 'حذف',
          edit: 'تعديل',
          chat: 'دردشة',
          login: 'تسجيل الدخول',
          sellNow: 'بيع الآن',
          marketerDashboard: 'لوحة تحكم التسويق',
          settings: 'الإعدادات',
          logout: 'تسجيل الخروج',
          affiliateTitle: 'لوحة تحكم التابع',
          generateLink: 'إنشاء رابط تابع',
          copyLink: 'نسخ الرابط',
          commissions: 'عمولاتك'
        }
      };
      async function fetchExchangeRates() {
        try {
          const response = await fetch('https://open.er-api.com/v6/latest/MAD');
          const data = await response.json();
          if (data.result === 'success') {
            exchangeRates = {
              DH: 1,
              USD: data.rates.USD,
              EUR: data.rates.EUR
            };
          }
        } catch (error) {
          console.error('Failed to fetch exchange rates:', error);
          // Fallback to hardcoded rates
          exchangeRates = {
            DH: 1,
            USD: 0.11,
            EUR: 0.094
          };
        }
      }
      function applyLanguage(lang) {
        const t = translations[lang] || translations.English;
        titleH1.textContent = t.title;
        searchInput.placeholder = t.searchPlaceholder;
        loginBtn.textContent = t.login;
        chatBtn.textContent = t.chat;
        sellNowOption.textContent = t.sellNow;
        marketerOption.textContent = t.marketerDashboard;
        settingsOption.textContent = t.settings;
        logoutOption.textContent = t.logout;
        document.querySelector('#sell-modal h2').textContent = t.sellTitle;
        document.getElementById("sell-product-title").placeholder = t.productTitle;
        document.getElementById("sell-product-price").placeholder = t.productPrice.replace('DH', getCurrencySymbol(userData.currency));
        document.getElementById("sell-product-des").placeholder = t.productDes;
        document.getElementById("product-title").placeholder = t.productTitle;
        document.getElementById("product-price").placeholder = t.productPrice.replace('DH', getCurrencySymbol(userData.currency));
        document.getElementById("product-des").placeholder = t.productDes;
        document.getElementById("product-order-url").placeholder = t.productOrderUrl;
        document.getElementById("sell-product-category").firstChild.textContent = t.selectCategory;
        document.getElementById("product-category").firstChild.textContent = t.selectCategory;
        document.querySelector('#admin-panel h2').textContent = t.adminPanel;
        document.querySelector('#admin-panel h3:first-of-type').textContent = t.addProductHeader;
        document.querySelector('#admin-panel h3:nth-of-type(2)').textContent = t.addSliderHeader;
        document.querySelector('#admin-panel h3:nth-of-type(3)').textContent = t.currentSliders;
        document.querySelector('#cart-modal h2').textContent = t.cartTitle;
        document.querySelector('#payment-modal h2').textContent = t.paymentTitle;
        document.querySelector('#marketer-modal h2').textContent = t.affiliateTitle;
        document.getElementById("payment-fullname-label").textContent = t.fullName;
        document.getElementById("payment-whatsapp-label").textContent = t.whatsappPhone;
        document.getElementById("payment-address-label").textContent = t.address;
        document.getElementById("payment-method-label").textContent = t.paymentMethod;
        document.getElementById("cod-option").textContent = t.cod;
        document.getElementById("online-option").textContent = t.online;
        document.getElementById("submit-payment").textContent = t.submitPayment;
        closeModal.textContent = t.close;
        closeSellModal.textContent = t.close;
        closeMarketerModal.textContent = t.close;
        closePaymentModal.textContent = t.close;
        payNowBtn.textContent = t.payNow;
        if (lang === 'Arabic') {
          document.body.dir = 'rtl';
        } else {
          document.body.dir = 'ltr';
        }
        renderProducts(searchInput.value, currentCategory);
        renderCart();
      }
      function getConvertedPrice(price, currency) {
        const rate = exchangeRates[currency] || 1;
        const numPrice = parseFloat(price) || 0;
        return (numPrice * rate).toFixed(2);
      }
      function getCurrencySymbol(currency) {
        switch (currency) {
          case 'USD': return '$';
          case 'EUR': return '€';
          default: return 'DH';
        }
      }
      function updateCartCount() {
        cartCount.textContent = cart.length;
      }
      updateCartCount();
      onAuthStateChanged(auth, (user) => {
        currentUser = user;
        if (user) {
          loginBtn.style.display = "none";
          profilePic.src = user.photoURL || "https://via.placeholder.com/40";
          profilePic.style.display = "block";
          profilePic.title = user.displayName || "User";
          isAdmin = user.email === "simo.jibou@gmail.com";
          adminPanel.style.display = isAdmin ? "block" : "none";
          if (isAdmin) loadAdminSliders();
          const userRef = ref(db, `users/${user.uid}`);
          onValue(userRef, (snapshot) => {
            userData = snapshot.val() || { currency: 'DH', language: 'English', role: 'buyer' };
            userRole = userData.role || 'buyer';
            marketerOption.style.display = (userRole === 'marketer') ? "block" : "none";
            sellNowOption.style.display = (userRole === 'seller' || isAdmin) ? "block" : "none";
            applyLanguage(userData.language);
            renderProducts(searchInput.value, currentCategory);
            if (userRole === 'marketer') loadAffiliateDashboard();
          });
        } else {
          loginBtn.style.display = "inline-block";
          profilePic.style.display = "none";
          dropdownMenu.style.display = "none";
          adminPanel.style.display = "none";
          isAdmin = false;
          userRole = 'buyer';
          userData = { currency: 'DH', language: 'English' };
          applyLanguage('English');
        }
        renderProducts();
      });
      fetchExchangeRates().then(() => {
        renderProducts(searchInput.value, currentCategory);
        renderCart();
      });
      loginBtn.addEventListener("click", () => {
        signInWithPopup(auth, provider)
          .then((result) => {
            const userRef = ref(db, `users/${result.user.uid}`);
            get(userRef).then((snapshot) => {
              if (!snapshot.exists()) {
                set(userRef, { role: 'buyer', currency: 'DH', language: 'English' });
              }
            });
            alert("Login successful!");
          })
          .catch((error) => {
            alert("Login failed: " + error.message);
          });
      });
      profilePic.addEventListener("click", () => {
        dropdownMenu.style.display = dropdownMenu.style.display === "block" ? "none" : "block";
      });
      logoutOption.addEventListener("click", () => {
        signOut(auth)
          .then(() => {
            alert("Logged out successfully!");
            dropdownMenu.style.display = "none";
          })
          .catch((error) => {
            alert("Logout failed: " + error.message);
          });
      });
      sellNowOption.addEventListener("click", () => {
        if (userRole !== 'seller' && !isAdmin) {
          alert("Only sellers can add products.");
          return;
        }
        dropdownMenu.style.display = "none";
        sellModal.style.display = "block";
      });
      marketerOption.addEventListener("click", () => {
        if (userRole !== 'marketer') {
          alert("Only marketers can access this.");
          return;
        }
        dropdownMenu.style.display = "none";
        marketerModal.style.display = "block";
        loadAffiliateDashboard();
      });
      settingsOption.addEventListener("click", () => {
        dropdownMenu.style.display = "none";
        window.location.href = "setenges.html";
      });
      chatBtn.addEventListener("click", () => {
        window.location.href = "sjchat.html";
      });
      window.addEventListener("click", (e) => {
        if (!profilePic.contains(e.target) && !dropdownMenu.contains(e.target)) {
          dropdownMenu.style.display = "none";
        }
        if (e.target === sellModal) {
          sellModal.style.display = "none";
        }
        if (e.target === marketerModal) {
          marketerModal.style.display = "none";
        }
        if (e.target === paymentModal) {
          paymentModal.style.display = "none";
        }
        if (e.target === cartModal) {
          cartModal.style.display = "none";
        }
      });
      closeSellModal.addEventListener("click", () => {
        sellModal.style.display = "none";
      });
      closeMarketerModal.addEventListener("click", () => {
        marketerModal.style.display = "none";
      });
      closePaymentModal.addEventListener("click", () => {
        paymentModal.style.display = "none";
      });
      closeModal.addEventListener("click", () => {
        cartModal.style.display = "none";
      });
      const productRef = ref(db, "Product");
      onValue(productRef, (snapshot) => {
        products = [];
        snapshot.forEach((childSnapshot) => {
          const data = childSnapshot.val();
          products.push({
            id: childSnapshot.key,
            title: data.title,
            price: data.price,
            des: data.des,
            orderUrl: data.orderUrl,
            photo: data.photo,
            userId: data.id,
            category: data.category || "Uncategorized" // Default if no category
          });
        });
        renderProducts(searchInput.value, currentCategory);
      }, (error) => {
        alert(`Failed to load products: ${error.message}. Please check your Realtime Database configuration and permissions.`);
      });
      function renderProducts(filter = "", category = "") {
        const t = translations[userData.language] || translations.English;
        container.innerHTML = "";
        let filteredProducts = products;
        if (category) {
          filteredProducts = filteredProducts.filter(p => p.category === category);
        }
        filteredProducts = filteredProducts.filter(p => p.title && p.title.toLowerCase().includes(filter.toLowerCase()));
        filteredProducts.forEach((product) => {
          const div = document.createElement("div");
          div.classList.add("product");
          let orderButton = '';
          if (product.orderUrl) {
            orderButton = `
              <button class="order-btn">${t.orderNow}</button>
            `;
          }
          let affiliateButton = '';
          if (userRole === 'marketer') {
            affiliateButton = `<button class="generate-affiliate-btn" data-pid="${product.id}">${t.generateLink}</button>`;
          }
          const convertedPrice = getConvertedPrice(product.price, userData.currency);
          const symbol = getCurrencySymbol(userData.currency);
          div.innerHTML = `
            <div class="product-image-wrapper">
              <img src="${product.photo || 'https://via.placeholder.com/280x280/111/fff?text=No+Image'}" alt="${product.title || 'No title'}">
            </div>
            <h3>${product.title || 'Untitled'}</h3>
            <p class="price">${convertedPrice} ${symbol}</p>
            <button class="whatsapp-btn">${t.contactWhatsApp}</button>
            ${orderButton}
            <button class="add-to-cart-btn">${t.addToCart}</button>
            ${affiliateButton}
          `;
          div.querySelector(".whatsapp-btn").addEventListener("click", () => {
            const phone = product.des ? product.des.replace(/\D/g, "") : "";
            if (phone) {
              window.open(`https://wa.me/${phone}`, "_blank");
            } else {
              alert("No WhatsApp number provided for this product.");
            }
          });
          if (product.orderUrl) {
            div.querySelector(".order-btn").addEventListener("click", () => {
              window.open(product.orderUrl, "_blank");
            });
          }
          div.querySelector(".add-to-cart-btn").addEventListener("click", () => {
            cart.push(product);
            localStorage.setItem("cart", JSON.stringify(cart));
            updateCartCount();
            alert("Added to cart!");
          });
          if (userRole === 'marketer' && div.querySelector(".generate-affiliate-btn")) {
            div.querySelector(".generate-affiliate-btn").addEventListener("click", () => {
              generateAffiliateLink(product.id);
            });
          }
          if (isAdmin || (userRole === 'seller' && product.userId === currentUser.uid)) {
            const adminActions = document.createElement("div");
            adminActions.classList.add("admin-actions");
            const editBtn = document.createElement("button");
            editBtn.textContent = t.edit;
            editBtn.addEventListener("click", () => editProduct(product.id, product));
            adminActions.appendChild(editBtn);
            const deleteBtn = document.createElement("button");
            deleteBtn.textContent = t.delete;
            deleteBtn.addEventListener("click", () => deleteProduct(product.id));
            adminActions.appendChild(deleteBtn);
            div.appendChild(adminActions);
          }
          container.appendChild(div);
        });
        if (filteredProducts.length === 0) {
          container.innerHTML = `<p>${t.noProducts}</p>`;
        }
      }
      searchInput.addEventListener("input", (e) => {
        renderProducts(e.target.value, currentCategory);
      });
      categoryCards.forEach(card => {
        card.addEventListener("click", () => {
          currentCategory = card.querySelector("span").textContent;
          renderProducts(searchInput.value, currentCategory);
          container.scrollIntoView({ behavior: "smooth" });
        });
      });
      function isYouTubeUrl(url) {
        return url.includes('youtube.com') || url.includes('youtu.be');
      }
      function getYouTubeEmbedUrl(url) {
        let videoId = '';
        if (url.includes('youtube.com/watch')) {
          const params = new URLSearchParams(new URL(url).search);
          videoId = params.get('v');
        } else if (url.includes('youtu.be')) {
          videoId = url.split('youtu.be/')[1].split('?')[0];
        }
        return videoId ? `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&loop=1&playlist=${videoId}&controls=0` : '';
      }
      const sliderRef = ref(db, "Sliders");
      onValue(sliderRef, (snapshot) => {
        sliderContainer.innerHTML = "";
        let slides = [];
        snapshot.forEach((childSnapshot) => {
          const slideData = { id: childSnapshot.key, ...childSnapshot.val() };
          slides.push(slideData);
        });
        if (slides.length > 0) {
          slides.forEach((slide) => {
            let element;
            if (isYouTubeUrl(slide.imageUrl)) {
              element = document.createElement("iframe");
              element.src = getYouTubeEmbedUrl(slide.imageUrl);
              element.setAttribute("frameborder", "0");
              element.setAttribute("allow", "autoplay; encrypted-media");
              element.setAttribute("allowfullscreen", "");
            } else if (slide.imageUrl.endsWith('.mp4')) {
              element = document.createElement("video");
              element.src = slide.imageUrl;
              element.muted = true;
              element.loop = true;
              element.preload = "auto";
              element.playsInline = true;
            } else {
              element = document.createElement("img");
              element.src = slide.imageUrl;
            }
            element.classList.add("slide");
            sliderContainer.appendChild(element);
          });
          startSlider(slides.length);
        }
      }, (error) => {
        alert("Failed to load sliders: " + error.message);
      });
      let slideIndex = 0;
      function startSlider(numSlides) {
        const slides = document.querySelectorAll(".slide");
        if (slides.length === 0) {
          return;
        }
        slides.forEach(slide => {
          slide.style.opacity = 0;
          if (slide.tagName === "VIDEO") {
            slide.pause();
            slide.currentTime = 0;
          }
          if (slide.tagName === "IFRAME") {
            slide.src = slide.src.replace('autoplay=1', 'autoplay=0');
          }
        });
        slides[0].style.opacity = 1;
        if (slides[0].tagName === "VIDEO") {
          slides[0].play().catch(e => console.error('Video play failed:', e));
        }
        if (slides[0].tagName === "IFRAME") {
          slides[0].src = slides[0].src.replace('autoplay=0', 'autoplay=1');
        }
        setInterval(() => {
          slides[slideIndex].style.opacity = 0;
          if (slides[slideIndex].tagName === "VIDEO") {
            slides[slideIndex].pause();
            slides[slideIndex].currentTime = 0;
          }
          if (slides[slideIndex].tagName === "IFRAME") {
            slides[slideIndex].src = slides[slideIndex].src.replace('autoplay=1', 'autoplay=0');
          }
          slideIndex = (slideIndex + 1) % numSlides;
          slides[slideIndex].style.opacity = 1;
          if (slides[slideIndex].tagName === "VIDEO") {
            slides[slideIndex].play().catch(e => console.error('Video play failed:', e));
          }
          if (slides[slideIndex].tagName === "IFRAME") {
            slides[slideIndex].src = slides[slideIndex].src.replace('autoplay=0', 'autoplay=1');
          }
        }, 5000);
      }
      function loadAdminSliders() {
        onValue(sliderRef, (snapshot) => {
          sliderList.innerHTML = "";
          snapshot.forEach((childSnapshot) => {
            const sliderId = childSnapshot.key;
            const slide = childSnapshot.val();
            const div = document.createElement("div");
            div.classList.add("slider-item");
            let element;
            if (isYouTubeUrl(slide.imageUrl)) {
              element = `<iframe src="${getYouTubeEmbedUrl(slide.imageUrl)}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen style="max-width: 100%; height: 100px;"></iframe>`;
            } else if (slide.imageUrl.endsWith('.mp4')) {
              element = `<video src="${slide.imageUrl}" muted loop preload="auto" playsinline style="max-width: 100%; height: 100px;"></video>`;
            } else {
              element = `<img src="${slide.imageUrl}" alt="Slider Image" style="max-width: 100%; height: 100px;">`;
            }
            div.innerHTML = `${element}<button>${translations[userData.language].delete || 'Delete'}</button>`;
            div.querySelector("button").addEventListener("click", () => {
              if (confirm("Delete this slider item?")) {
                remove(ref(db, `Sliders/${sliderId}`))
                  .then(() => alert("Slider item deleted!"))
                  .catch((error) => {
                    alert("Failed to delete slider item: " + error.message);
                  });
              }
            });
            sliderList.appendChild(div);
          });
        }, (error) => {
          alert("Failed to load sliders: " + error.message);
        });
      }
      async function convertToWebP(file) {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.onload = () => {
            const canvas = document.createElement('canvas');
            canvas.width = img.width;
            canvas.height = img.height;
            const ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0);
            canvas.toBlob(blob => {
              if (blob) {
                resolve(blob);
              } else {
                reject(new Error('Failed to convert to WebP'));
              }
            }, 'image/webp', 0.8); // Quality 80%
          };
          img.onerror = reject;
          const reader = new FileReader();
          reader.onload = e => img.src = e.target.result;
          reader.onerror = reject;
          reader.readAsDataURL(file);
        });
      }
      async function uploadFile(file, path) {
        try {
          const maxSize = 5 * 1024 * 1024;
          if (file.size > maxSize) {
            throw new Error("File size exceeds 5MB limit.");
          }
          const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'video/mp4'];
          if (!allowedTypes.includes(file.type)) {
            throw new Error("Invalid file type. Only JPEG, PNG, GIF, WebP, or MP4 files are allowed.");
          }
          let uploadBlob = file;
          let finalPath = path;
          if (file.type.startsWith('image/') && file.type !== 'image/gif' && file.type !== 'image/webp') { // Convert non-GIF, non-WebP images
            uploadBlob = await convertToWebP(file);
            finalPath = path.replace(/\.[^/.]+$/, ".webp");
          }
          const metadata = {
            cacheControl: 'public, max-age=31536000' // Cache for 1 year
          };
          if (uploadBlob.type) {
            metadata.contentType = uploadBlob.type;
          }
          const fileRef = storageRef(storage, finalPath);
          const snapshot = await uploadBytes(fileRef, uploadBlob, metadata);
          const url = await getDownloadURL(snapshot.ref);
          return url;
        } catch (error) {
          if (error.code === "storage/unauthorized") {
            throw new Error("Permission denied. Check Firebase Storage security rules.");
          } else if (error.code === "storage/canceled") {
            throw new Error("Upload was canceled.");
          } else if (error.code === "storage/unknown") {
            throw new Error("An unknown error occurred during upload. Check network or Firebase configuration.");
          }
          throw error;
        }
      }
      addProductForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        if (!currentUser) {
          alert("Please log in to add a product.");
          return;
        }
        if (userRole !== 'seller' && !isAdmin) {
          alert("Only sellers can add products.");
          return;
        }
        const title = document.getElementById("product-title").value;
        const price = document.getElementById("product-price").value;
        const des = document.getElementById("product-des").value;
        const orderUrl = document.getElementById("product-order-url").value;
        const category = document.getElementById("product-category").value;
        const photoFile = document.getElementById("product-photo").files[0];
        if (!photoFile) {
          alert("Please select an image.");
          return;
        }
        try {
          const photoUrl = await uploadFile(photoFile, `products/${currentUser.uid}/${Date.now()}_${photoFile.name}`);
          const productRef = push(ref(db, "Product"));
          const pId = productRef.key;
          await set(productRef, {
            title,
            price,
            des,
            orderUrl,
            photo: photoUrl,
            id: currentUser.uid,
            pId,
            category
          });
          addProductForm.reset();
          alert("Product added successfully!");
        } catch (error) {
          alert(`Failed to add product: ${error.message}. Please check your network, authentication, or Firebase permissions.`);
        }
      });
      sellProductForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        if (!currentUser) {
          alert("Please log in to add a product.");
          return;
        }
        if (userRole !== 'seller' && !isAdmin) {
          alert("Only sellers can add products.");
          return;
        }
        const title = document.getElementById("sell-product-title").value;
        const price = document.getElementById("sell-product-price").value;
        const des = document.getElementById("sell-product-des").value;
        const category = document.getElementById("sell-product-category").value;
        const photoFile = document.getElementById("sell-product-photo").files[0];
        if (!photoFile) {
          alert("Please select an image.");
          return;
        }
        try {
          const photoUrl = await uploadFile(photoFile, `products/${currentUser.uid}/${Date.now()}_${photoFile.name}`);
          const productRef = push(ref(db, "Product"));
          const pId = productRef.key;
          await set(productRef, {
            title,
            price,
            des,
            photo: photoUrl,
            id: currentUser.uid,
            pId,
            category
          });
          sellProductForm.reset();
          sellModal.style.display = "none";
          alert("Product added successfully!");
        } catch (error) {
          alert(`Failed to add product: ${error.message}. Please check your network, authentication, or Firebase permissions.`);
        }
      });
      function editProduct(productId, product) {
        const newTitle = prompt("Edit Title:", product.title);
        const newPrice = prompt("Edit Price:", product.price);
        const newDes = prompt("Edit WhatsApp Phone Number:", product.des);
        const newOrderUrl = prompt("Edit Order URL:", product.orderUrl || "");
        const newCategory = prompt("Edit Category:", product.category);
        if (newTitle && newPrice && newDes) {
          set(ref(db, `Product/${productId}`), {
            title: newTitle,
            price: newPrice,
            des: newDes,
            orderUrl: newOrderUrl,
            photo: product.photo,
            id: product.userId,
            pId: productId,
            category: newCategory
          }).then(() => {
            alert("Product updated!");
          }).catch((error) => {
            alert("Failed to update product: " + error.message);
          });
        }
      }
      function deleteProduct(productId) {
        if (confirm("Delete this product?")) {
          remove(ref(db, `Product/${productId}`))
            .then(() => {
              alert("Product deleted!");
            })
            .catch((error) => {
              alert("Failed to delete product: " + error.message);
            });
        }
      }
      addSliderForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        if (!currentUser || !isAdmin) {
          alert("Only admins can add slider items.");
          return;
        }
        const sliderFile = document.getElementById("slider-image").files[0];
        const sliderUrlInput = document.getElementById("slider-url").value;
        if (!sliderFile && !sliderUrlInput) {
          alert("Please select an image/video or provide a YouTube URL.");
          return;
        }
        try {
          let sliderUrl;
          if (sliderFile) {
            sliderUrl = await uploadFile(sliderFile, `sliders/${Date.now()}_${sliderFile.name}`);
          } else if (sliderUrlInput) {
            if (!isYouTubeUrl(sliderUrlInput)) {
              alert("Invalid YouTube URL. Please provide a valid YouTube link.");
              return;
            }
            sliderUrl = sliderUrlInput;
          }
          const newSliderRef = push(ref(db, "Sliders"));
          await set(newSliderRef, { imageUrl: sliderUrl });
          addSliderForm.reset();
          alert("Slider item added successfully!");
        } catch (error) {
          alert(`Failed to add slider item: ${error.message}. Please check your network, authentication, or Firebase permissions.`);
        }
      });
      cartIcon.addEventListener("click", () => {
        cartModal.style.display = "block";
        renderCart();
      });
      function renderCart() {
        const t = translations[userData.language] || translations.English;
        cartList.innerHTML = "";
        let total = 0;
        cart.forEach((product, index) => {
          const div = document.createElement("div");
          div.classList.add("cart-item");
          const convertedPrice = parseFloat(getConvertedPrice(product.price, userData.currency));
          total += convertedPrice;
          const symbol = getCurrencySymbol(userData.currency);
          div.innerHTML = `
            <img src="${product.photo || 'https://via.placeholder.com/80'}" alt="${product.title || 'No title'}">
            <h4>${product.title || 'Untitled'}</h4>
            <p>${convertedPrice.toFixed(2)} ${symbol}</p>
            <button class="remove-from-cart">Remove</button>
          `;
          div.querySelector(".remove-from-cart").addEventListener("click", () => {
            cart.splice(index, 1);
            localStorage.setItem("cart", JSON.stringify(cart));
            updateCartCount();
            renderCart();
          });
          cartList.appendChild(div);
        });
        if (cart.length === 0) {
          cartList.innerHTML = `<p>${t.cartEmpty}</p>`;
          cartTotal.style.display = "none";
          payNowBtn.style.display = "none";
        } else {
          cartTotal.style.display = "block";
          payNowBtn.style.display = "block";
          const symbol = getCurrencySymbol(userData.currency);
          cartTotal.textContent = `${t.cartTotal}: ${total.toFixed(2)} ${symbol}`;
        }
      }
      payNowBtn.addEventListener("click", () => {
        if (!currentUser) {
          alert("Please log in to proceed with payment.");
          return;
        }
        cartModal.style.display = "none";
        paymentModal.style.display = "block";
        // Prefill form
        document.getElementById("payment-fullname").value = currentUser.displayName || "";
        document.getElementById("payment-whatsapp").value = userData.whatsappPhone || "";
        document.getElementById("payment-address").value = userData.deliveryAddress || "";
      });
      paymentForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        if (!currentUser) {
          alert("Please log in to submit payment.");
          return;
        }
        const fullName = document.getElementById("payment-fullname").value;
        const whatsappPhone = document.getElementById("payment-whatsapp").value;
        const address = document.getElementById("payment-address").value;
        const paymentMethod = document.querySelector('input[name="payment-method"]:checked').value;
        if (!fullName || !whatsappPhone || !address) {
          alert("Please fill in all required fields.");
          return;
        }
        try {
          const orderRef = push(ref(db, "Orders"));
          const orderId = orderRef.key;
          let total = 0;
          const cartItems = cart.map(item => {
            const convertedPrice = parseFloat(getConvertedPrice(item.price, userData.currency));
            total += convertedPrice;
            return {
              productId: item.id,
              title: item.title,
              price: item.price, // Original price in DH
              quantity: 1 // Assuming quantity 1 for simplicity
            };
          });
          const urlParams = new URLSearchParams(window.location.search);
          const refCode = urlParams.get('ref');
          const affiliateData = refCode ? { affiliateCode: refCode } : {};
          await set(orderRef, {
            userId: currentUser.uid,
            fullName,
            whatsappPhone,
            address,
            paymentMethod,
            currency: userData.currency,
            total,
            items: cartItems,
            status: "Pending",
            createdAt: Date.now(),
            ...affiliateData
          });
          if (refCode) {
            const affiliateRef = ref(db, `affiliates/${refCode}`);
            get(affiliateRef).then((snapshot) => {
              if (snapshot.exists()) {
                const data = snapshot.val();
                const commission = total * 0.15; // 15% commission
                const commissions = data.commissions || 0;
                update(affiliateRef, { commissions: commissions + commission });
              }
            });
          }
          alert("Order submitted successfully!");
          cart = [];
          localStorage.setItem("cart", JSON.stringify(cart));
          updateCartCount();
          paymentModal.style.display = "none";
        } catch (error) {
          alert(`Failed to submit order: ${error.message}`);
        }
      });
      function generateUniqueCode() {
        return Math.random().toString(36).substr(2, 9);
      }
      function generateAffiliateLink(productId) {
        if (!currentUser || userRole !== 'marketer') return;
        const code = generateUniqueCode();
        const link = `${window.location.origin}${window.location.pathname}?ref=${code}&pid=${productId}`;
        const affiliateRef = push(ref(db, "affiliate_links"));
        set(affiliateRef, {
          code,
          productId,
          marketerId: currentUser.uid,
          createdAt: Date.now()
        });
        prompt("Copy this affiliate link:", link);
      }
      function loadAffiliateDashboard() {
        if (!currentUser || userRole !== 'marketer') return;
        affiliateList.innerHTML = "";
        const affiliateLinksRef = ref(db, "affiliate_links");
        onValue(affiliateLinksRef, (snapshot) => {
          snapshot.forEach((childSnapshot) => {
            const data = childSnapshot.val();
            if (data.marketerId === currentUser.uid) {
              const div = document.createElement("div");
              div.classList.add("affiliate-item");
              const link = `${window.location.origin}${window.location.pathname}?ref=${data.code}&pid=${data.productId}`;
              div.innerHTML = `
                <p>Product ID: ${data.productId}</p>
                <p>Link: <a href="${link}" target="_blank">${link}</a></p>
                <button class="copy-link-btn">Copy Link</button>
              `;
              div.querySelector(".copy-link-btn").addEventListener("click", () => {
                navigator.clipboard.writeText(link).then(() => alert("Link copied!"));
              });
              affiliateList.appendChild(div);
            }
          });
        });
        const marketerRef = ref(db, `users/${currentUser.uid}`);
        onValue(marketerRef, (snapshot) => {
          const data = snapshot.val();
          const commissions = data.commissions || 0;
          document.getElementById("commissions-total").textContent = `Total Commissions: ${commissions.toFixed(2)} DH`;
        });
      }
      const isAndroid = /Android/i.test(navigator.userAgent);
      const popup = document.getElementById("android-popup");
      const pwaBtn = document.getElementById("pwa-install-btn");
      const playBtn = document.getElementById("google-play-btn");
      const closeBtn = document.getElementById("close-popup");
      let deferredPrompt;
      if (isAndroid) popup.style.display = "flex";
      window.addEventListener("beforeinstallprompt", (e) => {
        e.preventDefault();
        deferredPrompt = e;
        pwaBtn.style.display = "inline-block";
      });
      pwaBtn.addEventListener("click", async () => {
        if (deferredPrompt) {
          deferredPrompt.prompt();
          await deferredPrompt.userChoice;
          deferredPrompt = null;
          pwaBtn.style.display = "none";
        }
      });
      playBtn.addEventListener("click", () => {
        window.open("https://play.google.com/store/apps/details?id=com.sj.store", "_blank");
      });
      closeBtn.addEventListener("click", () => popup.style.display = "none");
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("/service-worker.js", { scope: "/" })
          .then(reg => {
          })
          .catch(err => {
            alert("Service Worker failed to register: " + err.message);
          });
      }
    });
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Roboto', sans-serif;
      background: #000;
      color: #fff;
      line-height: 1.6;
      min-height: 100vh;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: #000;
      position: sticky;
      top: 0;
      z-index: 1000;
      border-bottom: 1px solid #333;
    }
    .header-left {
      display: flex;
      align-items: center;
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .logo {
      width: 60px;
      height: 60px;
      border-radius: 0;
    }
    #login-btn, #chat-btn {
      background: transparent;
      color: #fff;
      border: 1px solid #fff;
      padding: 0.5rem 1rem;
      border-radius: 0;
      cursor: pointer;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      transition: border-color 0.3s, background-color 0.3s;
    }
    #login-btn:hover, #chat-btn:hover {
      border-color: #ccc;
      background-color: #222;
    }
    #profile-pic {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid #fff;
      cursor: pointer;
      display: none;
    }
    .dropdown {
      position: relative;
    }
    .dropdown-menu {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      background: #111;
      border: 1px solid #333;
      border-radius: 0;
      min-width: 150px;
      z-index: 1001;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }
    .dropdown-menu button {
      width: 100%;
      background: transparent;
      color: #fff;
      border: none;
      padding: 0.75rem 1rem;
      text-align: left;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      cursor: pointer;
      transition: background 0.3s;
    }
    .dropdown-menu button:hover {
      background: #333;
    }
    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      text-align: center;
      margin: 1.5rem 0;
      text-transform: uppercase;
      letter-spacing: 0.18em;
    }
    #search-input {
      width: 100%;
      max-width: 600px;
      padding: 0.75rem 1rem;
      border: 1px solid #333;
      background: #000;
      color: #fff;
      font-size: 1rem;
      margin: 0 auto 2rem;
      display: block;
      border-radius: 0;
      transition: border-color 0.3s;
    }
    #search-input::placeholder {
      color: #666;
    }
    #search-input:focus {
      border-color: #fff;
      outline: none;
    }
    #slider-container {
      position: relative;
      max-width: 100%;
      height: 600px;
      margin: 0 auto 2rem;
      overflow: hidden;
      border-radius: 0;
      border: 1px solid #333;
    }
    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }
    .slide[src$=".mp4"] {
      object-fit: contain;
      background: #000;
    }
    .slide[src*="youtube.com"] {
      width: 100%;
      height: 100%;
    }
    .product-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .product {
      background: #111;
      border-radius: 0;
      padding: 1.5rem;
      transition: transform 0.3s, box-shadow 0.3s;
      border: 1px solid #333;
    }
    .product:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    .product-image-wrapper {
      width: 100%;
      height: 280px;
      overflow: hidden;
      margin-bottom: 1rem;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .product img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      object-position: center;
      display: block;
      background: #000;
    }
    .product h3 {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
    }
    .price {
      font-size: 1.5rem;
      font-weight: 700;
      color: #fff;
      margin-bottom: 1rem;
    }
    .whatsapp-btn, .order-btn, .add-to-cart-btn, .generate-affiliate-btn {
      width: 100%;
      padding: 0.75rem;
      border: none;
      border-radius: 0;
      font-size: 0.875rem;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.3s;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
    }
    .whatsapp-btn {
      background: #25D366;
      color: #fff;
    }
    .whatsapp-btn:hover {
      background: #1ebe56;
    }
    .order-btn {
      background: #007BFF;
      color: #fff;
    }
    .order-btn:hover {
      background: #0056b3;
    }
    .add-to-cart-btn {
      background: #fff;
      color: #000;
    }
    .add-to-cart-btn:hover {
      background: #e0e0e0;
    }
    .generate-affiliate-btn {
      background: #ffc107;
      color: #000;
    }
    .generate-affiliate-btn:hover {
      background: #e0a800;
    }
    #admin-panel {
      display: none;
      max-width: 1200px;
      margin: 2rem auto;
      background: #111;
      padding: 2rem;
      border: 1px solid #333;
      border-radius: 0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    #admin-panel h2, #admin-panel h3 {
      color: #fff;
      margin-bottom: 1.5rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-size: 1.5rem;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      background: #222;
      padding: 1.5rem;
      border: 1px solid #333;
      border-radius: 0;
    }
    label {
      color: #fff;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-size: 0.875rem;
    }
    input, select {
      padding: 0.75rem;
      border: 1px solid #333;
      background: #000;
      color: #fff;
      border-radius: 0;
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    input:focus, select:focus {
      border-color: #fff;
      outline: none;
    }
    button[type="submit"] {
      background: #fff;
      color: #000;
      padding: 0.75rem;
      border: none;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      cursor: pointer;
      transition: background 0.3s;
    }
    button[type="submit"]:hover {
      background: #e0e0e0;
    }
    #slider-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }
    .slider-item {
      background: #222;
      padding: 1rem;
      border: 1px solid #333;
      border-radius: 0;
      transition: transform 0.3s;
    }
    .slider-item:hover {
      transform: scale(1.02);
    }
    .slider-item img, .slider-item video, .slider-item iframe {
      max-width: 100%;
      border-radius: 0;
    }
    .slider-item button {
      width: 100%;
      background: #fff;
      color: #000;
      border: none;
      padding: 0.5rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      cursor: pointer;
      margin-top: 0.5rem;
      transition: background 0.3s;
    }
    .slider-item button:hover {
      background: #e0e0e0;
    }
    .modal {
      position: fixed;
      z-index: 1001;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: none;
    }
    .modal-content {
      background: #111;
      margin: 10% auto;
      padding: 2rem;
      border-radius: 0;
      width: 90%;
      max-width: 600px;
      border: 1px solid #333;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    #cart-list, #sell-product-form, #payment-form, #affiliate-list {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    .cart-item, .affiliate-item {
      background: #222;
      padding: 1rem;
      border-radius: 0;
      display: flex;
      align-items: center;
      gap: 1rem;
      border: 1px solid #333;
    }
    .cart-item img {
      width: 80px;
      height: 80px;
      border-radius: 0;
      object-fit: cover;
    }
    .cart-item h4 {
      font-size: 1rem;
      font-weight: 700;
      margin: 0;
    }
    .cart-item p {
      font-size: 1rem;
      color: #fff;
      margin: 0;
    }
    .remove-from-cart, .copy-link-btn {
      background: #fff;
      color: #000;
      border: none;
      padding: 0.5rem 1rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      cursor: pointer;
      transition: background 0.3s;
    }
    .remove-from-cart:hover, .copy-link-btn:hover {
      background: #e0e0e0;
    }
    #cart-total, #commissions-total {
      font-size: 1.25rem;
      font-weight: 700;
      text-align: right;
      margin-top: 1rem;
    }
    #pay-now-btn {
      width: 100%;
      background: #007BFF;
      color: #fff;
      border: none;
      padding: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      cursor: pointer;
      transition: background 0.3s;
    }
    #pay-now-btn:hover {
      background: #0056b3;
    }
    #close-modal, #close-sell-modal, #close-marketer-modal, #close-payment-modal {
      background: transparent;
      color: #fff;
      border: 1px solid #fff;
      padding: 0.75rem;
      width: 100%;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      cursor: pointer;
      margin-top: 1rem;
      transition: border-color 0.3s;
    }
    #close-modal:hover, #close-sell-modal:hover, #close-marketer-modal:hover, #close-payment-modal:hover {
      border-color: #ccc;
    }
    .admin-actions {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .admin-actions button {
      flex: 1;
      padding: 0.5rem;
      border: 1px solid #fff;
      background: transparent;
      color: #fff;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      cursor: pointer;
      transition: background 0.3s;
    }
    .admin-actions button:nth-child(2) {
      border-color: #fff;
      background: #fff;
      color: #000;
    }
    .admin-actions button:hover {
      background: #333;
    }
    .admin-actions button:nth-child(2):hover {
      background: #e0e0e0;
    }
    #android-popup {
      display: none;
      position: fixed;
      bottom: 20px;
      left: 20px;
      right: 20px;
      background: #111;
      color: #fff;
      border-radius: 0;
      padding: 1rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
      z-index: 9999;
      display: flex;
      align-items: center;
      gap: 1rem;
      border: 1px solid #333;
    }
    #android-popup img {
      width: 50px;
      height: 50px;
      border-radius: 0;
    }
    #android-popup button {
      background: #fff;
      border: none;
      padding: 0.75rem 1rem;
      border-radius: 0;
      color: #000;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      cursor: pointer;
      transition: background 0.3s;
    }
    #android-popup button:hover {
      background: #e0e0e0;
    }
    #android-popup #close-popup {
      background: transparent;
      color: #fff;
      border: 1px solid #fff;
    }
    #android-popup #close-popup:hover {
      border-color: #ccc;
    }
    .site-footer-row-container-inner {
      background: #111;
      border-top: 1px solid #333;
      padding: 2rem 0;
    }
    .site-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    .site-top-footer-inner-wrap {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 2rem;
    }
    .site-footer-section {
      padding: 1rem;
    }
    .footer-widget-area-inner {
      color: #fff;
    }
    .widget-title {
      font-size: 1.25rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      margin-bottom: 1rem;
      color: #fff;
    }
    .menu {
      list-style: none;
      padding: 0;
    }
    .menu li {
      margin-bottom: 0.5rem;
    }
    .menu a {
      color: #ccc;
      text-decoration: none;
      font-size: 0.875rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      transition: color 0.3s;
    }
    .menu a:hover {
      color: #fff;
    }
    .footer-social-inner-wrap {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .social-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border: 1px solid #fff;
      border-radius: 0;
      background: transparent;
      color: #fff;
      transition: background 0.3s, color 0.3s;
    }
    .social-button:hover {
      background: #333;
      color: #fff;
    }
    .kadence-svg-icon {
      width: 24px;
      height: 24px;
    }
    .site-footer-top-section-5 {
      display: flex;
      justify-content: flex-end;
    }
    .site-footer-top-section-5 img {
      max-width: 150px;
      height: auto;
    }

    /* New Category Section Styles */
    #category-section {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    .category-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1.5rem;
    }
    .category-card {
      background: #111;
      border: 1px solid #333;
      border-radius: 0;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      aspect-ratio: 1 / 1;
      cursor: pointer;
      transition: box-shadow 0.3s ease, transform 0.3s ease;
      box-shadow: 0 0 10px rgba(0, 128, 255, 0.1), 0 0 10px rgba(128, 0, 255, 0.1);
    }
    .category-card:hover {
      box-shadow: 0 0 20px rgba(0, 128, 255, 0.3), 0 0 20px rgba(128, 0, 255, 0.3);
      transform: translateY(-5px);
    }
    .category-card svg {
      width: 60%;
      height: 60%;
      margin-bottom: 1rem;
    }
    .category-card span {
      font-size: 1rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: #fff;
    }
    @media (max-width: 768px) {
      .header {
        padding: 1rem;
      }
      .product-list {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
      }
      .product-image-wrapper {
        height: 200px;
      }
      #slider-container {
        height: 400px;
      }
      .header-right {
        gap: 0.5rem;
      }
      .site-top-footer-inner-wrap {
        grid-template-columns: repeat(3, 1fr);
      }
      .site-footer-top-section-5 {
        justify-content: center;
      }
      .category-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 1rem;
      }
      .category-card svg {
        width: 50%;
        height: 50%;
      }
      .category-card span {
        font-size: 0.875rem;
      }
    }
    @media (max-width: 480px) {
      h1 {
        font-size: 1.75rem;
      }
      #slider-container {
        height: 300px;
      }
      .product {
        padding: 1rem;
      }
      .product-image-wrapper {
        height: auto;
        aspect-ratio: 1 / 1;
      }
      .product img {
        object-fit: contain;
      }
      .product h3 {
        font-size: 1rem;
      }
      .price {
        font-size: 1.125rem;
      }
      .whatsapp-btn, .order-btn, .add-to-cart-btn {
        font-size: 0.75rem;
        padding: 0.5rem;
      }
      .header-right {
        gap: 0.5rem;
      }
      .logo {
        width: 50px;
        height: 50px;
      }
      .modal-content {
        padding: 1.5rem;
      }
      .site-top-footer-inner-wrap {
        grid-template-columns: 1fr;
      }
      .site-footer-top-section-5 {
        justify-content: center;
      }
      .category-grid {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 0.75rem;
      }
      .category-card svg {
        width: 40%;
        height: 40%;
      }
      .category-card span {
        font-size: 0.75rem;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="header-left">
      <img src="https://raw.githubusercontent.com/simojibou/logo/refs/heads/main/logo.PNG" alt="SJ LOGO" class="logo">
    </div>
    <div class="header-right">
      <div id="cart-icon">🛒 <span id="cart-count">0</span></div>
      <button id="chat-btn">Chat</button>
      <button id="login-btn">Login</button>
      <div class="dropdown">
        <img id="profile-pic" alt="Profile Pic">
        <div id="dropdown-menu" class="dropdown-menu">
          <button id="sell-now-option">Sell Now</button>
          <button id="marketer-option">Marketer Dashboard</button>
          <button id="settings-option">Settings</button>
          <button id="logout-option">Logout</button>
        </div>
      </div>
    </div>
  </div>
  <h1>SJ STORE</h1>
  <input type="text" id="search-input" placeholder="Search products...">
  <div id="slider-container"></div>
  <div id="category-section">
    <div class="category-grid">
      <!-- Clothes Category -->
      <div class="category-card">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <defs>
            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#00f;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#80f;stop-opacity:1" />
            </linearGradient>
          </defs>
          <path fill="none" stroke="url(#grad1)" stroke-width="2" d="M3 6h18M5 6l-2 4v10a2 2 0 002 2h14a2 2 0 002-2V10l-2-4M5 10h14"/>
        </svg>
        <span>Clothes</span>
      </div>
      <!-- Phones Category -->
      <div class="category-card">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <defs>
            <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#00f;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#80f;stop-opacity:1" />
            </linearGradient>
          </defs>
          <rect fill="none" stroke="url(#grad2)" stroke-width="2" x="5" y="2" width="14" height="20" rx="2"/>
          <line stroke="url(#grad2)" stroke-width="2" x1="12" y1="18" x2="12" y2="18"/>
        </svg>
        <span>Phones</span>
      </div>
      <!-- Beauty Category -->
      <div class="category-card">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <defs>
            <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#00f;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#80f;stop-opacity:1" />
            </linearGradient>
          </defs>
          <path fill="url(#grad3)" d="M12 2a2 2 0 00-2 2v2H8v2h8V6h-2V4a2 2 0 00-2-2zm-2 6v12a2 2 0 002 2h0a2 2 0 002-2V8h-4z"/>
        </svg>
        <span>Beauty</span>
      </div>
      <!-- Cars Category -->
      <div class="category-card">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <defs>
            <linearGradient id="grad4" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#00f;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#80f;stop-opacity:1" />
            </linearGradient>
          </defs>
          <path fill="url(#grad4)" d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8a1 1 0 001 1h1a1 1 0 001-1v-1h12v1a1 1 0 001 1h1a1 1 0 001-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/>
        </svg>
        <span>Cars</span>
      </div>
      <!-- Services Category -->
      <div class="category-card">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <defs>
            <linearGradient id="grad5" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#00f;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#80f;stop-opacity:1" />
            </linearGradient>
          </defs>
          <path fill="url(#grad5)" d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94 0 .31.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.03-1.58zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm0-12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"/>
        </svg>
        <span>Services</span>
      </div>
      <!-- Tickets Category -->
      <div class="category-card">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <defs>
            <linearGradient id="grad6" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#00f;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#80f;stop-opacity:1" />
            </linearGradient>
          </defs>
          <path fill="url(#grad6)" d="M15 5v-2c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v2h-2v4c0 1.1.9 2 2 2v2c-1.1 0-2 .9-2 2v4h2v2c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-2h2v-4c0-1.1-.9-2-2-2v-2c1.1 0 2-.9 2-2v-4h-2zm-4-2h2v2h-2v-2zm2 16h-2v-2h2v2zm0-4h-2v-2c-1.1 0-2-.9-2-2h4c0 1.1-.9 2-2 2v2zm0-4h-4c0-1.1.9-2 2-2s2 .9 2 2v2z"/>
        </svg>
        <span>Tickets</span>
      </div>
    </div>
  </div>
  <div class="product-list" id="product-list"></div>
  <div id="admin-panel">
    <h2>Admin Control Panel</h2>
    <h3>Add Product</h3>
    <form id="add-product-form">
      <input type="text" id="product-title" placeholder="Product Title" required>
      <input type="text" id="product-price" placeholder="Price (DH)" required>
      <input type="text" id="product-des" placeholder="WhatsApp Phone Number" required>
      <input type="url" id="product-order-url" placeholder="Order URL (optional)">
      <select id="product-category" required>
        <option value="" disabled selected>Select Category</option>
        <option value="Clothes">Clothes</option>
        <option value="Phones">Phones</option>
        <option value="Beauty">Beauty</option>
        <option value="Cars">Cars</option>
        <option value="Services">Services</option>
        <option value="Tickets">Tickets</option>
      </select>
      <input type="file" id="product-photo" accept="image/*" required>
      <button type="submit">Add Product</button>
    </form>
    <h3>Add Slider Item</h3>
    <form id="add-slider-form">
      <label for="slider-image">Upload Image or Video (MP4, max 5MB):</label>
      <input type="file" id="slider-image" accept="image/*,video/mp4">
      <label for="slider-url">Or YouTube URL (optional):</label>
      <input type="url" id="slider-url" placeholder="YouTube URL (optional)">
      <button type="submit">Add to Slider</button>
    </form>
    <h3>Current Sliders</h3>
    <div id="slider-list"></div>
  </div>
  <div id="cart-modal" class="modal">
    <div class="modal-content">
      <h2>My Cart</h2>
      <div id="cart-list"></div>
      <p id="cart-total" style="display:none;"></p>
      <button id="pay-now-btn" style="display:none;">Pay Now</button>
      <button id="close-modal">Close</button>
    </div>
  </div>
  <div id="sell-modal" class="modal">
    <div class="modal-content">
      <h2>Sell a Product</h2>
      <form id="sell-product-form">
        <input type="text" id="sell-product-title" placeholder="Product Title" required>
        <input type="text" id="sell-product-price" placeholder="Price (DH)" required>
        <input type="text" id="sell-product-des" placeholder="WhatsApp Phone Number" required>
        <select id="sell-product-category" required>
          <option value="" disabled selected>Select Category</option>
          <option value="Clothes">Clothes</option>
          <option value="Phones">Phones</option>
          <option value="Beauty">Beauty</option>
          <option value="Cars">Cars</option>
          <option value="Services">Services</option>
          <option value="Tickets">Tickets</option>
        </select>
        <input type="file" id="sell-product-photo" accept="image/*" required>
        <button type="submit">Add Product</button>
        <button id="close-sell-modal">Close</button>
      </form>
    </div>
  </div>
  <div id="marketer-modal" class="modal">
    <div class="modal-content">
      <h2>Affiliate Dashboard</h2>
      <div id="affiliate-list"></div>
      <p id="commissions-total">Total Commissions: 0 DH</p>
      <button id="close-marketer-modal">Close</button>
    </div>
  </div>
  <div id="payment-modal" class="modal">
    <div class="modal-content">
      <h2>Payment Details</h2>
      <form id="payment-form">
        <label for="payment-fullname" id="payment-fullname-label">Full Name</label>
        <input type="text" id="payment-fullname" required>
        <label for="payment-whatsapp" id="payment-whatsapp-label">WhatsApp Phone Number</label>
        <input type="text" id="payment-whatsapp" required>
        <label for="payment-address" id="payment-address-label">Delivery Address</label>
        <input type="text" id="payment-address" required>
        <label id="payment-method-label">Payment Method</label>
        <div>
          <input type="radio" id="cod" name="payment-method" value="COD" checked>
          <label for="cod" id="cod-option">Cash on Delivery (COD)</label>
        </div>
        <div>
          <input type="radio" id="online" name="payment-method" value="Online">
          <label for="online" id="online-option">Online Payment</label>
        </div>
        <button type="submit" id="submit-payment">Submit Payment</button>
        <button id="close-payment-modal">Close</button>
      </form>
    </div>
  </div>
  <div id="android-popup">
    <img src="https://raw.githubusercontent.com/simojibou/logo/refs/heads/main/logo.PNG" alt="SJ LOGO">
    <span>📲 Download the SJ STORE app!</span>
    <div>
      <button id="pwa-install-btn" style="display:none;">Install PWA</button>
      <button id="google-play-btn">Google Play</button>
      <button id="close-popup">✖ Close</button>
    </div>
  </div>
  <footer class="site-footer-row-container-inner">
    <div class="site-container">
      <div class="site-top-footer-inner-wrap">
        <div class="site-footer-top-section-1 site-footer-section">
          <div class="footer-widget-area widget-area site-footer-focus-item footer-widget1">
            <div class="footer-widget-area-inner site-info-inner">
              <section class="widget widget_nav_menu">
                <h2 class="widget-title">SJ APPS</h2>
                <div class="menu-my-account-container">
                  <ul class="menu">
                    <li class="menu-item"><a href="https://play.google.com/store/apps/details?id=com.sj.store">SJ STORE</a></li>
                    <li class="menu-item"><a href="https://play.google.com/store/apps/details?id=com.gamehero.sj">SJ HERO</a></li>
                    <li class="menu-item"><a href="mailto:support@sjstore.com">support@sjstore.com</a></li>
                  </ul>
                </div>
              </section>
            </div>
          </div>
        </div>
        <div class="site-footer-top-section-2 site-footer-section">
          <div class="footer-widget-area widget-area site-footer-focus-item footer-widget2">
            <div class="footer-widget-area-inner site-info-inner">
              <section class="widget widget_nav_menu">
                <h2 class="widget-title">SJ MUSIC</h2>
                <div class="menu-sitemap-container">
                  <ul class="menu">
                    <li class="menu-item"><a href="https://open.spotify.com/artist/435SbwFjs0ZPb6dchnjfZS">spotify</a></li>
                    <li class="menu-item"><a href="https://music.apple.com/ma/artist/simojibou/1756134507">apple music</a></li>
                  </ul>
                </div>
              </section>
            </div>
          </div>
        </div>
        <div class="site-footer-top-section-3 site-footer-section">
          <div class="footer-widget-area widget-area site-footer-focus-item footer-widget3">
            <div class="footer-widget-area-inner site-info-inner">
              <section class="widget widget_nav_menu">
                <h2 class="widget-title">channels</h2>
                <div class="menu-legal-container">
                  <ul class="menu">
                    <li class="menu-item"><a href="https://www.youtube.com/@simojibou">youtube</a></li>
                    <li class="menu-item"><a rel="privacy-policy" href="https://t.me/codetop_follow">TG</a></li>
                    <li class="menu-item"><a href="https://whatsapp.com/channel/0029Va1kGKLD8SDseD2HcA3M">whatsapp</a></li>
                  </ul>
                </div>
              </section>
            </div>
          </div>
        </div>
        <div class="site-footer-top-section-4 site-footer-section">
          <div class="footer-widget-area widget-area site-footer-focus-item footer-social">
            <div class="footer-widget-area-inner footer-social-inner">
              <div class="footer-social-wrap">
                <h2 class="widget-title">Follow Us On</h2>
                <div class="footer-social-inner-wrap">
                  <a href="https://x.com/simo_jibou" aria-label="X" target="_blank" rel="noopener noreferrer" class="social-button footer-social-item social-link-twitter">
                    <span class="kadence-svg-iconset">
                      <svg class="kadence-svg-icon kadence-twitter-x-svg" fill="currentColor" version="1.1" xmlns="http://www.w3.org/2000/svg" width="23" height="24" viewBox="0 0 23 24">
                        <title>X</title>
                        <path d="M13.969 10.157l8.738-10.157h-2.071l-7.587 8.819-6.060-8.819h-6.989l9.164 13.336-9.164 10.651h2.071l8.012-9.313 6.4 9.313h6.989l-9.503-13.831zM11.133 13.454l-8.316-11.895h3.181l14.64 20.941h-3.181l-6.324-9.046z"></path>
                      </svg>
                    </span>
                  </a>
                  <a href="https://www.instagram.com/simo.jibou/" aria-label="Instagram" target="_blank" rel="noopener noreferrer" class="social-button footer-social-item social-link-instagram">
                    <span class="kadence-svg-iconset">
                      <svg class="kadence-svg-icon kadence-instagram-alt-svg" fill="currentColor" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <title>Instagram</title>
                        <path d="M7 1c-1.657 0-3.158 0.673-4.243 1.757s-1.757 2.586-1.757 4.243v10c0 1.657 0.673 3.158 1.757 4.243s2.586 1.757 4.243 1.757h10c1.657 0 3.158-0.673 4.243-1.757s1.757-2.586 1.757-4.243v-10c0-1.657-0.673-3.158-1.757-4.243s-2.586-1.757-4.243-1.757zM7 3h10c1.105 0 2.103 0.447 2.828 1.172s1.172 1.723 1.172 2.828v10c0 1.105-0.447 2.103-1.172 2.828s-1.723 1.172-2.828 1.172h-10c-1.105 0-2.103-0.447-2.828-1.172s-1.172-1.723-1.172-2.828v-10c0-1.105 0.447-2.103 1.172-2.828s1.723-1.172 2.828-1.172zM16.989 11.223c-0.15-0.972-0.571-1.857-1.194-2.567-0.754-0.861-1.804-1.465-3.009-1.644-0.464-0.074-0.97-0.077-1.477-0.002-1.366 0.202-2.521 0.941-3.282 1.967s-1.133 2.347-0.93 3.712 0.941 2.521 1.967 3.282 2.347 1.133 3.712 0.93 2.521-0.941 3.282-1.967 1.133-2.347 0.93-3.712zM15.011 11.517c0.122 0.82-0.1 1.609-0.558 2.227s-1.15 1.059-1.969 1.18-1.609-0.1-2.227-0.558-1.059-1.15-1.18-1.969 0.1-1.609 0.558-2.227 1.15-1.059 1.969-1.18c0.313-0.046 0.615-0.042 0.87-0.002 0.74 0.11 1.366 0.47 1.818 0.986 0.375 0.428 0.63 0.963 0.72 1.543zM17.5 7.5c0.552 0 1-0.448 1-1s-0.448-1-1-1-1 0.448-1 1 0.448 1 1 1z"></path>
                      </svg>
                    </span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="site-footer-top-section-5 site-footer-section">
          <div class="footer-widget-area widget-area site-footer-focus-item footer-widget4">
            <div class="footer-widget-area-inner site-info-inner">
              <div class="wp-block-kadence-image">
                <figure class="alignright">
                  <img loading="lazy" decoding="async" width="150" height="104" src="https://raw.githubusercontent.com/simojibou/logo/refs/heads/main/logo.PNG" alt="SJ Store Logo" class="kb-img">
                </figure>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>
</body>
  </html>
